<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MSD | E-pharm Erode</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;700;800&display=swap');
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: #fcfbff; color: #1e1b4b; }
        .msd-card { background: white; border-radius: 2rem; border: 1px solid #f0eeff; box-shadow: 0 10px 40px rgba(0,0,0,0.02); }
    </style>
</head>
<body class="p-4 flex flex-col items-center min-h-screen">

    <header class="w-full max-w-md flex justify-between items-center py-6">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-purple-700 rounded-xl flex items-center justify-center text-white font-black text-xl shadow-lg">M</div>
            <h1 class="text-xs font-black text-purple-950 uppercase tracking-tight">E-PHARM-MSD</h1>
        </div>
        <div class="text-[8px] font-black text-green-500 uppercase border border-green-200 px-3 py-1 rounded-full bg-green-50">Online</div>
    </header>

    <main class="w-full max-w-md space-y-4">
        <div class="msd-card p-8">
            <h2 class="text-lg font-black text-purple-900 mb-6 italic">Digital Prescription Counter</h2>
            
            <div class="space-y-4">
                <input type="text" id="pName" placeholder="Patient Name" class="w-full p-4 bg-gray-50 rounded-2xl font-bold border-none outline-none focus:ring-2 ring-purple-100">
                <input type="text" id="pAge" placeholder="Age" class="w-full p-4 bg-gray-50 rounded-2xl font-bold border-none outline-none focus:ring-2 ring-purple-100">
                
                <button onclick="getLoc()" id="locBtn" class="w-full py-3 bg-purple-50 text-purple-600 rounded-xl text-[10px] font-black uppercase tracking-widest border border-purple-100">
                    üìç Verify Delivery Distance
                </button>
                <p id="distDisplay" class="text-center text-[10px] font-bold text-gray-400"></p>
            </div>

            <button onclick="sendOrder()" class="w-full mt-8 bg-purple-700 text-white py-5 rounded-[2rem] font-black uppercase tracking-widest shadow-xl transition active:scale-95">
                Confirm & Open WhatsApp
            </button>
        </div>
    </main>

    <script>
        let userDist = "Unknown distance";

        function getLoc() {
            const btn = document.getElementById('locBtn');
            btn.innerText = "SENSING LOCATION...";
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition((pos) => {
                    // Simulating distance from Erode Hub
                    userDist = (Math.random() * 5 + 1).toFixed(1); 
                    btn.innerText = "LOCATION VERIFIED";
                    document.getElementById('distDisplay').innerText = `Approx. ${userDist} KM from Erode Hub`;
                });
            }
        }

        function sendOrder() {
            const name = document.getElementById('pName').value;
            const age = document.getElementById('pAge').value;
            if(!name) return alert("Enter Name");

            const wa = "919385352585";
            const text = `*NEW MSD PHARMA ORDER*%0A*Name:* ${name}%0A*Age:* ${age}%0A*Distance:* ${userDist} KM%0A------------------------%0A_I am ready to upload my prescription photo._`;
            
            window.location.href = `https://wa.me/${wa}?text=${text}`;
        }
    </script>
</body>
</html>
